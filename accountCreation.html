<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GeekCoders</title>
    
   
    <link rel="stylesheet" href="index.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.3.1/dist/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <style>
        .register-link {
        color : white;
        text-decoration: none;
      }
	  .register-button{
	   position:relative;
	   left:-45px;
	  }
    </style>
</head>
<body id ="body">
    <center>
        <div><h1 class = "title-h1"><u>Please Enter Your Details!!</u></h1></div>
    </center>
    
    <div class = "credential-div">
        <form>
            <label id="form-label-1" >Enter your Username&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&nbsp;: </label>
            <input type="text" class="name" id = "register-username" required><br><br>
            <label id="form-label-6" >Enter your Email Address&ensp;&ensp;&ensp;: </label>
            <input type="email" class="email" id = "register-email" required><br><br>
            <label id="form-label-2" >Enter your Password&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;: </label>
            <input type="password" class="password" id="register-password" required><br><br>
            <label id="form-label-3" >Enter Confirm Password&ensp;&ensp;&ensp;&ensp;: </label>
            <input type="password" class="password" id="register-confirm-password" required><br><br><br>
            <button type="button" onclick="registrationValidation();" class="register-button"><a id="register-link"><b>Register</b></a></button>
        </form>
    </div>
      
  
</body>
<script>
    function isValidEmail(email) {
        const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
        return emailRegex.test(email);
    }
    function registrationValidation(){
        var pwd=document.getElementById('register-password').value;
        var Confirm_pwd=document.getElementById('register-confirm-password').value;
        var usr=document.getElementById('register-username').value;
        var email=document.getElementById('register-email').value;

        if(pwd!="" && Confirm_pwd!="" && usr!="" && email!=""){
            if(pwd!=Confirm_pwd){
                alert("password shouls be same in both fields!");
                document.getElementById('register-password').style="border:2px solid red";
                document.getElementById('register-confirm-password').style="border:2px solid red";
            }
            else if (!isValidEmail(email)) {
                alert("Please enter a valid email address!");
                document.getElementById('register-email').style.border = "2px solid red";
            }
            else{
                 register();   
                }
        }
        else{
            alert("enter all the fileds!!");
        }
    }
    function register(){
        var pwd=document.getElementById('register-password').value;
        var Confirm_pwd=document.getElementById('register-confirm-password').value;
        var usr=document.getElementById('register-username').value;
        var email=document.getElementById('register-email').value;

        let user={
           "name":usr+"",
            "pwd":pwd+""
        };

        var xhttp=new XMLHttpRequest();
       
       xhttp.onreadystatechange=function(){
        if(this.readyState==4 &&this.status==201){
        location.href='./Success.html';
         }
           
   };
               xhttp.open("POST","https://649c70180480757192382903.mockapi.io/users",true);
        xhttp.setRequestHeader("Content-type","application/json");
           xhttp.send(JSON.stringify(user));}
      
    
</script>
<script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/popper.js@1.14.7/dist/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.3.1/dist/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>
</html>